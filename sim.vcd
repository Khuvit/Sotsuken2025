$date
	Wed Nov 12 14:01:27 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module tb $end
$var wire 32 ! d_out_cpu [31:0] $end
$var wire 2 " mode [1:0] $end
$var wire 8 # wr_addr [7:0] $end
$var wire 1 $ wr_en $end
$var wire 8 % rd_addr [7:0] $end
$var wire 8 & pc [7:0] $end
$var wire 32 ' instruction [31:0] $end
$var wire 32 ( d_out_mem [31:0] $end
$var reg 1 ) clk $end
$var reg 1 * n_rst $end
$scope module u_cpu $end
$var wire 1 ) clk $end
$var wire 32 + d_out [31:0] $end
$var wire 32 , in_a [31:0] $end
$var wire 32 - in_b [31:0] $end
$var wire 2 . mode [1:0] $end
$var wire 1 * n_rst $end
$var wire 32 / wd [31:0] $end
$var wire 8 0 wr_addr [7:0] $end
$var wire 1 $ wr_en $end
$var wire 20 1 sext [19:0] $end
$var wire 3 2 s [2:0] $end
$var wire 5 3 rs2 [4:0] $end
$var wire 5 4 rs1 [4:0] $end
$var wire 32 5 rdata2 [31:0] $end
$var wire 32 6 rdata1 [31:0] $end
$var wire 32 7 rd_data [31:0] $end
$var wire 8 8 rd_addr [7:0] $end
$var wire 5 9 rd [4:0] $end
$var wire 1 : r_we $end
$var wire 8 ; pc [7:0] $end
$var wire 7 < opcode [6:0] $end
$var wire 32 = instruction [31:0] $end
$var wire 32 > imm [31:0] $end
$var wire 1 ? funct7 $end
$var wire 3 @ funct3 [2:0] $end
$var wire 32 A d_in [31:0] $end
$var wire 1 B bne $end
$var wire 1 C bltu $end
$var wire 1 D blt $end
$var wire 1 E bgeu $end
$var wire 1 F bge $end
$var wire 1 G beq $end
$var wire 1 H aluop $end
$var wire 32 I alu_res [31:0] $end
$var parameter 32 J BYTE $end
$var parameter 32 K DATA_W $end
$var parameter 32 L FUNCT3 $end
$var parameter 32 M FUNCT7 $end
$var parameter 64 N HALF $end
$var parameter 32 O IMM $end
$var parameter 32 P MEMORY_S $end
$var parameter 32 Q OP $end
$var parameter 32 R OPCODE_W $end
$var parameter 32 S PC_W $end
$var parameter 32 T REG_S $end
$var parameter 32 U REG_W $end
$var parameter 32 V SHAMT_W $end
$var parameter 32 W STORE_M $end
$var parameter 64 X WORD $end
$var reg 32 Y alu_res_M [31:0] $end
$var reg 32 Z alu_res_W [31:0] $end
$var reg 1 [ aluop_E $end
$var reg 3 \ funct3_E [2:0] $end
$var reg 3 ] funct3_M [2:0] $end
$var reg 32 ^ imm_E [31:0] $end
$var reg 32 _ inst [31:0] $end
$var reg 7 ` opcode_E [6:0] $end
$var reg 7 a opcode_M [6:0] $end
$var reg 7 b opcode_W [6:0] $end
$var reg 8 c pc_reg [7:0] $end
$var reg 5 d rd_E [4:0] $end
$var reg 5 e rd_M [4:0] $end
$var reg 5 f rd_W [4:0] $end
$var reg 32 g rd_data_W [31:0] $end
$var reg 32 h rdata_E1 [31:0] $end
$var reg 32 i rdata_E2 [31:0] $end
$var reg 32 j rdata_M1 [31:0] $end
$var reg 32 k rdata_M2 [31:0] $end
$scope function rd_data_sel $end
$var reg 32 l data [31:0] $end
$var reg 3 m funct [2:0] $end
$upscope $end
$scope module alu $end
$var wire 32 n a [31:0] $end
$var wire 32 o b [31:0] $end
$var wire 1 [ ext $end
$var wire 3 p s [2:0] $end
$var wire 5 q shamt [4:0] $end
$var parameter 32 r DATA_W $end
$var parameter 32 s OP $end
$var parameter 32 t SHAMT_W $end
$var reg 32 u y [31:0] $end
$upscope $end
$scope module rfile $end
$var wire 5 v a1 [4:0] $end
$var wire 5 w a2 [4:0] $end
$var wire 5 x a3 [4:0] $end
$var wire 1 ) clk $end
$var wire 32 y wd [31:0] $end
$var wire 1 : we $end
$var wire 32 z x1 [31:0] $end
$var wire 32 { rd2 [31:0] $end
$var wire 32 | rd1 [31:0] $end
$var parameter 32 } DATA_W $end
$var parameter 32 ~ REG_S $end
$var parameter 32 !" REG_W $end
$upscope $end
$upscope $end
$scope module u_dmem $end
$var wire 1 ) clk $end
$var wire 32 "" d_in [31:0] $end
$var wire 2 #" mode [1:0] $end
$var wire 1 * n_rst $end
$var wire 8 $" rd_addr [7:0] $end
$var wire 8 %" wr_addr [7:0] $end
$var wire 1 $ wr_en $end
$var wire 32 &" d_out [31:0] $end
$var parameter 32 '" ADDR_WIDTH $end
$var parameter 32 (" DATA_W $end
$var parameter 32 )" M_STACK $end
$var parameter 32 *" M_WIDTH $end
$var parameter 32 +" PC_WIDTH $end
$var parameter 32 ," STORE_M $end
$var parameter 2 -" ST_B $end
$var parameter 2 ." ST_H $end
$var parameter 2 /" ST_W $end
$upscope $end
$scope module u_imem $end
$var wire 1 ) clk $end
$var wire 1 * n_rst $end
$var wire 8 0" rd_addr [7:0] $end
$var wire 32 1" d_out [31:0] $end
$var parameter 32 2" ADDR_WIDTH $end
$var parameter 32 3" DATA_W $end
$var parameter 32 4" M_STACK $end
$var parameter 32 5" M_WIDTH $end
$var parameter 32 6" PC_WIDTH $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b1000 6"
b11111111111111111111111111111111 5"
b10000 4"
b100000 3"
b1000 2"
b10 /"
b1 ."
b0 -"
b10 ,"
b1000 +"
b11111111111111111111111111111111 *"
b10000 )"
b100000 ("
b1000 '"
b101 !"
b100000 ~
b100000 }
b101 t
b11 s
b100000 r
b100000 X
b10 W
b101 V
b101 U
b100000 T
b1000 S
b111 R
b11 Q
b100000000 P
b100000 O
b10000 N
b111 M
b11 L
b100000 K
b1000 J
$end
#0
$dumpvars
b10000010000011 1"
b0 0"
bx &"
bz %"
bx $"
bz #"
bz ""
b0 |
b0 {
bx z
bx y
bx x
b0 w
b0 v
bx u
bx q
bx p
bx o
bx n
bx m
bx l
bx k
bx j
bx i
bx h
bx g
bx f
bx e
bx d
b0 c
bx b
bx a
bx `
b0 _
bx ^
bx ]
bx \
x[
bx Z
bx Y
bx I
0H
xG
xF
xE
xD
xC
xB
bx A
b0 @
0?
b0 >
b10000010000011 =
b0 <
b0 ;
x:
b0 9
bx 8
b0 7
b0 6
b0 5
b0 4
b0 3
bx 2
b0 1
bz 0
bx /
bz .
bx -
bx ,
bz +
0*
0)
bx (
b10000010000011 '
b0 &
bx %
z$
bz #
bz "
bz !
$end
#5000
b0 q
b0 2
b0 p
b0 I
b0 u
b0 -
b0 ^
b0 o
b0 `
0[
1G
0B
0D
0F
0C
0E
b0 \
b0 d
b0 i
b0 ,
b0 n
b0 h
b0 /
b0 y
b0 g
1)
#10000
0)
#15000
b11111111111111111111111111101111 7
b11011110101011011011111011101111 l
b0 m
b11011110101011011011111011101111 (
b11011110101011011011111011101111 A
b11011110101011011011111011101111 &"
b0 %
b0 8
b0 $"
b0 k
b0 j
b0 a
b0 ]
b0 e
b0 Y
1)
#20000
0)
1*
#25000
b10 @
b1 9
b11 <
b0 Z
b0 f
b0 x
b11111111111111111111111111101111 /
b11111111111111111111111111101111 y
b11111111111111111111111111101111 g
0:
b0 b
b10000010000011 _
bx '
bx =
bx 1"
b100 &
b100 ;
b100 c
b100 0"
1)
#30000
0)
#35000
x?
bx 5
bx {
bx 6
bx |
bx 3
bx w
bx 4
bx v
bx @
bx 9
bx <
xH
b0xxxxxxxxxxxxxxxxxxxxxxxxxx >
bx 1
b11 `
0G
b10 \
b1 d
b1000 &
b1000 ;
b1000 c
b1000 0"
bx _
1)
#40000
0)
#45000
bx 2
bx p
bx q
b0 I
b0 u
b11011110101011011011111011101111 7
b10 m
b0xxxxxxxxxxxxxxxxxxxxxxxxxx -
b0xxxxxxxxxxxxxxxxxxxxxxxxxx ^
b0xxxxxxxxxxxxxxxxxxxxxxxxxx o
bx `
x[
xG
xB
xD
xF
xC
xE
bx \
bx d
bx i
bx ,
bx n
bx h
b11 a
b10 ]
b1 e
b1100 &
b1100 ;
b1100 c
b1100 0"
1)
#50000
0)
#55000
b0 7
bx m
b1 f
b1 x
b11011110101011011011111011101111 /
b11011110101011011011111011101111 y
b11011110101011011011111011101111 g
1:
b11 b
bx k
bx j
bx a
bx ]
bx e
b10000 &
b10000 ;
b10000 c
b10000 0"
1)
#60000
0)
#65000
b11011110101011011011111011101111 z
bx f
bx x
b0 /
b0 y
b0 g
x:
bx b
b10100 &
b10100 ;
b10100 c
b10100 0"
1)
#70000
0)
#75000
b11000 &
b11000 ;
b11000 c
b11000 0"
1)
#80000
0)
#85000
b11100 &
b11100 ;
b11100 c
b11100 0"
1)
#90000
0)
#95000
b100000 &
b100000 ;
b100000 c
b100000 0"
1)
#100000
0)
#105000
b100100 &
b100100 ;
b100100 c
b100100 0"
1)
#110000
0)
#115000
b101000 &
b101000 ;
b101000 c
b101000 0"
1)
#120000
0)
#125000
b101100 &
b101100 ;
b101100 c
b101100 0"
1)
#130000
0)
#135000
b110000 &
b110000 ;
b110000 c
b110000 0"
1)
#140000
0)
#145000
b110100 &
b110100 ;
b110100 c
b110100 0"
1)
#150000
0)
#155000
b111000 &
b111000 ;
b111000 c
b111000 0"
1)
#160000
0)
#165000
b111100 &
b111100 ;
b111100 c
b111100 0"
1)
#170000
0)
#175000
b1000000 &
b1000000 ;
b1000000 c
b1000000 0"
1)
#180000
0)
#185000
b1000100 &
b1000100 ;
b1000100 c
b1000100 0"
1)
#190000
0)
#195000
b1001000 &
b1001000 ;
b1001000 c
b1001000 0"
1)
#200000
0)
#205000
b1001100 &
b1001100 ;
b1001100 c
b1001100 0"
1)
#210000
0)
#215000
b1010000 &
b1010000 ;
b1010000 c
b1010000 0"
1)
#220000
0)
#225000
b1010100 &
b1010100 ;
b1010100 c
b1010100 0"
1)
#230000
0)
#235000
b1011000 &
b1011000 ;
b1011000 c
b1011000 0"
1)
#240000
0)
#245000
b1011100 &
b1011100 ;
b1011100 c
b1011100 0"
1)
#250000
0)
#255000
b1100000 &
b1100000 ;
b1100000 c
b1100000 0"
1)
#260000
0)
#265000
b1100100 &
b1100100 ;
b1100100 c
b1100100 0"
1)
#270000
0)
#275000
b1101000 &
b1101000 ;
b1101000 c
b1101000 0"
1)
#280000
0)
#285000
b1101100 &
b1101100 ;
b1101100 c
b1101100 0"
1)
#290000
0)
#295000
b1110000 &
b1110000 ;
b1110000 c
b1110000 0"
1)
#300000
0)
#305000
b1110100 &
b1110100 ;
b1110100 c
b1110100 0"
1)
#310000
0)
#315000
b1111000 &
b1111000 ;
b1111000 c
b1111000 0"
1)
#320000
0)
#325000
b1111100 &
b1111100 ;
b1111100 c
b1111100 0"
1)
#330000
0)
#335000
b10000000 &
b10000000 ;
b10000000 c
b10000000 0"
1)
#340000
0)
#345000
b10000100 &
b10000100 ;
b10000100 c
b10000100 0"
1)
#350000
0)
#355000
b10001000 &
b10001000 ;
b10001000 c
b10001000 0"
1)
#360000
0)
#365000
b10001100 &
b10001100 ;
b10001100 c
b10001100 0"
1)
#370000
0)
#375000
b10010000 &
b10010000 ;
b10010000 c
b10010000 0"
1)
#380000
0)
#385000
b10010100 &
b10010100 ;
b10010100 c
b10010100 0"
1)
#390000
0)
#395000
b10011000 &
b10011000 ;
b10011000 c
b10011000 0"
1)
#400000
0)
#405000
b10011100 &
b10011100 ;
b10011100 c
b10011100 0"
1)
#410000
0)
#415000
b10100000 &
b10100000 ;
b10100000 c
b10100000 0"
1)
#420000
0)
#425000
b10100100 &
b10100100 ;
b10100100 c
b10100100 0"
1)
#430000
0)
#435000
b10101000 &
b10101000 ;
b10101000 c
b10101000 0"
1)
#440000
0)
#445000
b10101100 &
b10101100 ;
b10101100 c
b10101100 0"
1)
#450000
0)
#455000
b10110000 &
b10110000 ;
b10110000 c
b10110000 0"
1)
#460000
0)
#465000
b10110100 &
b10110100 ;
b10110100 c
b10110100 0"
1)
#470000
0)
#475000
b10111000 &
b10111000 ;
b10111000 c
b10111000 0"
1)
#480000
0)
